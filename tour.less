@import "lib/variables.less";

.transform( @property: none) {
    -webkit-transform: @property;
    -moz-transform: @property;
    -ms-transform: @property;
    -o-transform: @property;
    transform: @property;
}
@tour-timing-function: cubic-bezier(.36, 0, .15, 1);

.tour-animation(@name, @duration, @delay: 0, @count: 1, @fill-mode: both) {
    -webkit-animation: @name @duration @delay @count @tour-timing-function @fill-mode;
    -moz-animation: @name @duration @delay @count @tour-timing-function @fill-mode;
    -ms-animation: @name @duration @delay @count @tour-timing-function @fill-mode;
    -o-animation: @name @duration @delay @count @tour-timing-function @fill-mode;
    animation: @name @duration @delay @count @tour-timing-function @fill-mode;
}
.tour-animation-linear(@name, @duration, @delay: 0, @count: 1, @fill-mode: both) {
    -webkit-animation: @name @duration @delay @count linear @fill-mode;
    -moz-animation: @name @duration @delay @count linear @fill-mode;
    -ms-animation: @name @duration @delay @count linear @fill-mode;
    -o-animation: @name @duration @delay @count linear @fill-mode;
    animation: @name @duration @delay @count linear @fill-mode;
}

.resetTranslate {
	.transform(translate3d(0,0,0));
}

.resetAllTransform {
	.transform(translate3d(0,0,0) scale3d(1,1,1) rotate3d(0,0,1,0deg));
}

.rotateZ(@angle: 0deg) {
	.transform(rotate3d(0, 0, 1, @angle));
}


#tour {
    width: 100%;
    height: 100%;
    overflow: hidden;
}
#pagesWrapper {
    width: 1280px;
    height: 100%;
    transition:.3s;
}
.page {
    width: 320px;
    height: 100%;
    float: left;
    display: inline-block;
    position:relative;
}
#page1 {
	z-index:4;
}
#page2 {
	z-index:3;
}
#page3 {
	z-index:2;
}
#page4 {
	z-index:1;
}
.shapesWrapper {
    margin: 0 auto;
    position: relative;
    width: 320px;
    height: 320px;
}
.from0to1 {
	.transform(translate3d(0, 0, 0));
}
.from1to2 {
	.transform(translate3d(-25%, 0, 0));

	#shop-shape {
	    .tour-animation(shop-shape, 0.6s);
	    -webkit-transform-origin: center bottom;
	}
	#shadow1 {
		.tour-animation(shadow1, 0.4s, 0.8s);
	    -webkit-transform-origin: center top;
	}
	#shadow2 {
		.tour-animation(shadow1, 0.3s, 0.9s);
        -webkit-transform-origin: center top;
	}
	#roof {
		.tour-animation(roof, 0.6s, 0.6s);
        -webkit-transform-origin: center top;
	}
	#shop-logo {
		.tour-animation(logo, 0.6s, 0.6s);
	}
	#bag {
		.tour-page1-items-animation(bag);
	}
	#chair {
	    .tour-page1-items-animation(chair);
	}
	#breakfast {
    	.tour-page1-items-animation(breakfast);
	}
	#shoes {
		.tour-page1-items-animation(shoes);
	}
	#iphone {
	    .tour-page1-items-animation(iphone);
	}
	#iwatch {
	    .tour-page1-items-animation(iwatch);
	}
}
.from2to3 {
	.transform(translate3d(-50%, 0, 0));
	#bag {
		-webkit-transform-origin: center center;
    	.tour-animation-linear(bag-out, 1.2s);
	}
	#card-bag {
		-webkit-transform-origin: center center;
    	.tour-animation-linear(card-bag, .1s, 0.9s);
	}
	#card5 {
		-webkit-transform-origin: center 400px;
    	.tour-animation(card5, 0.8s, 1.1s);
    	.card();
    	background-color: @color-black*15.4;
	}
	#card4 {
		-webkit-transform-origin: center 400px;
    	.tour-animation(card4, 0.8s, 1.1s);
    	.card();
    	background-color: @color-black*15.4;
	}
	#card3 {
	    -webkit-transform-origin: center 400px;
    	.tour-animation(card3, 0.7s, 1s);
    	.card();
    	background-color: @color-black*16.2;
	}
	#card2 {
	    -webkit-transform-origin: center 400px;
    	.tour-animation(card2, 0.7s, 1s);
    	.card();
    	background-color: @color-black*16.2;
	}
	#card1 {
		.card();
		background-color: @color-black*17;
	}
}
@-webkit-keyframes bag-out {
	48%, 72%, 75%{
    transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
  }
    0% {
        .resetTranslate();
    }
    48% {
        .transform(translate3d(355px, 3px, 0) rotate3d(0,0,1,-380deg) scale3d(2,2,1));
    }
    72% {
        .transform(translate3d(355px, 3px, 0) rotate3d(0,0,1,-358deg) scale3d(2,2,1));
    }
  
 	75% {
        .transform(translate3d(355px, 3px, 0) rotate3d(0,0,1,-360deg) scale3d(2,2,1));
    }

    99% {
    	.transform(translate3d(355px, 3px, 0) rotate3d(0,0,1,-360deg) scale3d(2,2,1));
        opacity: 1;
    }
    100%  {
    	.transform(translate3d(355px, 3px, 0) rotate3d(0,0,1,-360deg) scale3d(2,2,1));
    	display: none;
    }

}
@-webkit-keyframes card-bag {
	0% {
        opacity: 0;
    }
    100% {
        opacity: 1;
    }
}






.from3to4 {
	.transform(translate3d(-75%, 0, 0));
	#cloud {
		.tour-animation-linear(cloud, 20s, 0, infinite);
		-webkit-transform-origin: center center;
	}
	#hot {
		.tour-animation-linear(cloud, 65s, 0, infinite);
		-webkit-transform-origin: center center;
	}
	#card5 {
		-webkit-transform-origin: center center;
    	.tour-animation-linear(card5-out, 1.5s, 1.1s);
    	.card();
    	background-color: @color-black*15.4;
	}
	#card4 {
		-webkit-transform-origin: center center;
    	.tour-animation-linear(card4-out, 1.5s, 0.9s);
    	.card();
    	background-color: @color-black*15.4;
	}
	#card3 {
	    -webkit-transform-origin: center center;
    	.tour-animation-linear(card3-out, 1.5s, 0.7s);
    	.card();
    	background-color: @color-black*16.2;
	}
	#card2 {
	    -webkit-transform-origin: center center;
    	.tour-animation-linear(card2-out, 1.5s, 0.6s);
    	.card();
    	background-color: @color-black*16.2;
	}
	#card1 {
		-webkit-transform-origin: center center;
    	.tour-animation-linear(card1-out, 1.5s, 0.5s);
		.card();
		background-color: @color-black*17;
	}
	#dialog-pome {
    .tour-animation-linear(dialog-pome, 0.22s, 2.7s);
    -webkit-transform-origin: center top;
}
}
@-webkit-keyframes card1-out {
    0% {
        .transform(translate3d(0px, 0px, 0) rotate3d(0,0,1,0deg) scale3d(1,1,1));
    }
    20% {
        .transform(translate3d(110px, -105px, 0) rotate3d(0,0,1,90deg) scale3d(0.4,0.4,1));
    }
    40% {
        .transform(translate3d(230px, -85px, 0) rotate3d(0,0,1,180deg) scale3d(0.3,0.3,1));
    }
 	60% {
        .transform(translate3d(312px, -61px, 0) rotate3d(0,0,1,270deg) scale3d(0.2,0.2,1));
    }
    80%  {
    	.transform(translate3d(372px, -24px, 0) rotate3d(0,0,1,360deg) scale3d(0.1,0.1,1));
    }
    100%  {
    	.transform(translate3d(410px, 33px, 0) rotate3d(0,0,1,450deg) scale3d(0,0,1));
    }
}
@-webkit-keyframes card2-out {
    0% {
        .transform(translate3d(0px, 0px, 0) rotate3d(0,0,1,0deg) scale3d(1,1,1));
    }
    25% {
        .transform(translate3d(102px, 132px, 0) rotate3d(0,0,1,90deg) scale3d(0.3,0.3,1));
    }
    50% {
        .transform(translate3d(172px, 112px, 0) rotate3d(0,0,1,180deg) scale3d(0.2,0.2,1));
    }
 	75% {
        .transform(translate3d(254px, 89px, 0) rotate3d(0,0,1,270deg) scale3d(0.1,0.1,1));
    }
    100%  {
    	.transform(translate3d(314px, 72px, 0) rotate3d(0,0,1,360deg) scale3d(0,0,1));
    }
}
@-webkit-keyframes card3-out {
    0% {
        .transform(translate3d(0px, 0px, 0) rotate3d(0,0,1,0deg) scale3d(1,1,1));
    }
    25% {
        .transform(translate3d(137px, -89px, 0) rotate3d(0,0,1,90deg) scale3d(0.4,0.4,1));
    }
    50% {
        .transform(translate3d(257px, -88px, 0) rotate3d(0,0,1,180deg) scale3d(0.27,0.27,1));
    }
 	75% {
        .transform(translate3d(317px, -87px, 0) rotate3d(0,0,1,270deg) scale3d(0.13,0.13,1));
    }
    100%  {
    	.transform(translate3d(363px, -86px, 0) rotate3d(0,0,1,360deg) scale3d(0,0,1));
    }
}
@-webkit-keyframes card4-out {
    0% {
        .transform(translate3d(0px, 0px, 0) rotate3d(0,0,1,0deg) scale3d(1,1,1));
    }
    25% {
        .transform(translate3d(80px, -80px, 0) rotate3d(0,0,1,90deg) scale3d(0.4,0.4,1));
    }
    50% {
        .transform(translate3d(180px, -79px, 0) rotate3d(0,0,1,180deg) scale3d(0.3,0.3,1));
    }
 	75% {
        .transform(translate3d(240px, -78px, 0) rotate3d(0,0,1,270deg) scale3d(0.15,0.15,1));
    }
    100%  {
    	.transform(translate3d(286px, -77px, 0) rotate3d(0,0,1,360deg) scale3d(0,0,1));
    }
}
@-webkit-keyframes card5-out {
    0% {
        .transform(translate3d(0px, 0px, 0) rotate3d(0,0,1,0deg) scale3d(1,1,1));
    }
    25% {
        .transform(translate3d(106px, -25px, 0) rotate3d(0,0,1,90deg) scale3d(0.5,0.5,1));
    }
    50% {
        .transform(translate3d(226px, -23px, 0) rotate3d(0,0,1,180deg) scale3d(0.4,0.4,1));
    }
 	75% {
        .transform(translate3d(296px, -21px, 0) rotate3d(0,0,1,270deg) scale3d(0.2,0.2,1));
    }
    100%  {
    	.transform(translate3d(334px, -18px, 0) rotate3d(0,0,1,360deg) scale3d(0,0,1));
    }
}
#shop-shape {
    position: absolute;
    top: 50%;
    margin-top: -100px;
    left: 50%;
    margin-left: -85px;
    width: 170px;
    height: 200px;
    background-color: #55a5db;
}
@-webkit-keyframes shop-shape {
    0% {
        .transform(scale3d(1, 0, 1));
    }
    80% {
        .transform(scale3d(1, 1.2, 1));
    }
    100% {
        .transform(scale3d(1, 1, 1));
    }
}
#shadow1 {
    position: absolute;
    bottom: 0;
    left: 6px;
    width: 158px;
    height: 160px;
    background-color: #0d2f3f;
}
@-webkit-keyframes shadow1 {
    0% {
        .transform(scale3d(1, 0, 1));
    }
    100% {
        .transform(scale3d(1, 1, 1));
    }
}
#shadow2 {
    position: absolute;
    top: 44px;
    left: 0;
    width: 170px;
    height: 20px;
    background-color: #36698c;
}
#roof {
    position: absolute;
    top: 30px;
    left: -10px;
    background: url(app/images/roof.png);
    background-size: 190px 30px;
    width: 190px;
    height: 30px;
}
@-webkit-keyframes roof {
    0% {
        .transform(rotate3d(1, 0, 0, 90deg));
    }
    100% {
        .transform(rotate3d(1, 0, 0, 0deg));
    }
}
#shop-logo {
    position: absolute;
    top: -22px;
    left: 63px;
    background: url(app/images/logo.png);
    background-size: 44px 44px;
    width: 44px;
    height: 44px;    
}
@-webkit-keyframes logo {
    0% {
        opacity: 0;
        .transform(translate3d(0, -320px, 0) rotate3d(0, 0, 1, -720deg) scale3d(5.0, 5.0, 1));
    }
    100% {
        opacity: 1;
        .resetAllTransform();
    }
}

.tour-page1-items-animation(@name, @duration: 0.6s, @delay: 1s) {
    .tour-animation(@name, @duration, @delay);
}

#chair {
    position: absolute;
    bottom: 0;
    right: 20px;
    background: url(app/images/chair.png);
    background-size: 64px 64px;
    width: 64px;
    height: 64px;
}
@-webkit-keyframes chair {
    0% {
        .transform(translate3d(320px, 300px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#breakfast {
    position: absolute;
    bottom: 0;
    left: 25px;
    background: url(app/images/breakfast.png);
    background-size: 44px 44px;
    width: 44px;
    height: 44px;
}
@-webkit-keyframes breakfast {
    0% {
        .transform(translate3d(-320px, 300px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#shoes {
    position: absolute;
    top: 110px;
    left: 32px;
    background: url(app/images/shoes.png);
    background-size: 36px 36px;
    width: 36px;
    height: 36px;
}
@-webkit-keyframes shoes {
    0% {
        .transform(translate3d(-320px, 0px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#bag {
    position: absolute;
    top: 52px;
    left: 25px;
    background: url(app/images/bag.png);
    background-size: 50px 50px;
    width: 50px;
    height: 50px;
}
@-webkit-keyframes bag {
    0% {
        .transform(translate3d(-320px, -250px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#iphone {
    position: absolute;
    top: 47px;
    left: 62px;
    background: url(app/images/iphone.png);
    background-size: 82px 82px;
    width: 82px;
    height: 82px;
}
@-webkit-keyframes iphone {
    0% {
        .transform(translate3d(320px, 0px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#iwatch {
    position: absolute;
    top: 80px;
    right: 7px;
    background: url(app/images/iwatch.png);
    background-size: 44px 44px;
    width: 44px;
    height: 44px;
}
@-webkit-keyframes iwatch {
    0% {
        .transform(translate3d(320px, -350px, 0));
    }
    100% {
        .resetTranslate();
    }
}
#pm {
    position: absolute;
    top: 20px;
    left: 20px;
    background: url(app/images/pm.png);
    background-size: 290px 290px;
    width: 290px;
    height: 290px;
}
#designer {
    position: absolute;
    top: 20px;
    left: 20px;
    background: url(app/images/designer.png);
    background-size: 290px 290px;
    width: 290px;
    height: 290px;
}
#engineer {
    position: absolute;
    top: 20px;
    left: 20px;
    background: url(app/images/engineer.png);
    background-size: 290px 290px;
    width: 290px;
    height: 290px;
}
.eyes {
    position: absolute;
    background-color: #373737;
    border-radius: 100%;
    width: 3px;
    height: 3px;
}
#eyes1 {
    top: 173px;
    left: 122px;
}
#eyes2 {
    top: 173px;
    left: 110px;
}
#cloud {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/cloud.png);
    background-size: 300px 300px;
    width: 300px;
    height: 300px;
}
@-webkit-keyframes cloud {
    0%   { .rotateZ(); }
    25%  { .rotateZ(90deg); }
    50%  { .rotateZ(180deg); }
    75%  { .rotateZ(270deg); }
    100% { .rotateZ(360deg); }
}
#earth {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/earth.png);
    background-size: 300px 300px;
    width: 300px;
    height: 300px;
}
#hot {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/hot.png);
    background-size: 300px 300px;
    width: 300px;
    height: 300px;
}
#dialog-pome {
	position: absolute;
	top: 156px;
	left: 134px;
	background-color: @color-white;
	background-size: 60px 30px;
	border-radius: 20px;
	width: 60px;
	height: 30px;
}
@-webkit-keyframes dialog-pome {
    0% {
        .transform(scale3d(0, 0, 1));
    }
    100% {
        .transform(scale3d(1, 1, 1));
    }
}
#dialog-text{
	color: @color-red;
	font-size: 16px;
    text-align: center;
    font-style: normal;
    padding-top: 2px;
}
#dialog-pome:before{
	position: absolute;
	top: -12px;
	left: 38px;
    border-style: solid solid solid solid;
    border-width: 0 3px 13px 3px;
    border-color: transparent transparent @color-white transparent;
    width: 0;
    height: 0;
    display: block;
    content: '';
}
.card {
    position: absolute;
    top: 50%;
    margin-top: -80px;
    left: 50%;
    margin-left: -60px;
    border-radius: 0 0 4px 4px;
    width: 120px;
    height: 160px;
    background-size: 120px 160px;
}

@-webkit-keyframes card5 {
    0% {
        .rotateZ();
    }
    100% {
        .rotateZ(14deg);
    }
}

@-webkit-keyframes card4 {
    0% {
        .rotateZ(0);
    }
    100% {
        .rotateZ(-14deg);
    }
}

@-webkit-keyframes card3 {
    0% {
        .rotateZ();
    }
    100% {
        .rotateZ(-7deg);
    }
}

@-webkit-keyframes card2 {
    0% {
        .rotateZ();
    }
    100% {
        .rotateZ(7deg);
    }
}

.card-show {
    position: absolute;
    top: 0;
    left: 0;
    width: 120px;
    height: 120px;
    background-size: 150px 150px;
}

#card-show1 {
	.card-show();
	background-color: #fdd835;
}
#card-show2 {
    .card-show();
    background-color: #7cb342;
}
#card-show3 {
    .card-show();
    background-color: #00acc1;
}

#card-show4 {
    .card-show();
    background-color: #3949ab;
}

#card-show5 {
    .card-show();
    background-color: #00897b;
}

#card-bag {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/bag.png);
    background-size: 100px 100px;
    width: 100px;
    height: 100px;
}
#card-shoes {
    position: absolute;
    top: 15px;
    left: 15px;
    background: url(app/images/shoes.png);
    background-size: 90px 90px;
    width: 90px;
    height: 90px;
}
#card-chair {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/chair.png);
    background-size: 100px 100px;
    width: 100px;
    height: 100px;
}
#card-iwatch {
    position: absolute;
    top: 10px;
    left: 10px;
    background: url(app/images/iwatch.png);
    background-size: 100px 100px;
    width: 100px;
    height: 100px;
}
#card-breakfast {
    position: absolute;
    top: 20px;
    left: 20px;
    background: url(app/images/breakfast.png);
    background-size: 80px 80px;
    width: 80px;
    height: 80px;
}
#card-content1 {
    position: absolute;
    top: 128px;
    left: 14px;
    background-color: @color-black*16.7;
    background-size: 70px 10px;
    width: 70px;
    height: 10px;
}
#card-content2 {
    position: absolute;
    bottom: 8px;
    left: 14px;
    background-color: @color-black*16.7;
    background-size: 50px 10px;
    width: 50px;
    height: 10px;
}
.icon-shopping-cart {
    position: absolute;
    bottom: 8px;
    right: 10px;
    color: #ef6f59;
    width: 22px;
    height: 22px;
}

.pageInfo {
    text-align: center;
    padding: 0 @basic-gap @basic-gap;
    line-height: 1.2;
}
.pageTitle {
    color:#dd4b39;
    margin-bottom: @basic-gap/2;
    font-size: 20px;
}
.pageDetail {
    color: #757575;
    font-size: 12px;
}
